@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  *, *::before, *::after { box-sizing: border-box; }
  html { scroll-behavior: smooth; }

  :root {
    --bg-900: #080B0F;
    --bg-800: #0D1117;
    --bg-700: #111820;
    --bg-600: #161E28;
    --border: #1E2D3D;
    --border-bright: #2e557f;
    --text-primary: #E8F0F8;
    --text-secondary: #5e90c5;
    --text-muted: #406a91;
    --text-code: #7FDBCA;
    --brand: #528de6;
    --brand-dim: #3b66aa;
    --brand-faint: #0d1a2a;
    --scrollbar-track: #080B0F;
    --scrollbar-thumb: #1E2D3D;
    --scrollbar-thumb-hover: #2A3F55;
    --grid-line: rgba(30,45,61,0.4);
    --selection-bg: rgba(74,105,151,0.25);
    --tag-red-bg: rgba(255,58,58,0.05);
    --tag-amber-color: #FFAA00;
    --tag-amber-bg: rgba(255,170,0,0.06);
  }

  html.light {
    --bg-900: #F4F6F9;
    --bg-800: #FFFFFF;
    --bg-700: #EDF0F4;
    --bg-600: #E4E8EF;
    --border: #C8D3E0;
    --border-bright: #A8B8CC;
    --text-primary: #0F1923;
    --text-secondary: #3D5470;
    --text-muted: #7A90A8;
    --text-code: #2D6E63;
    --brand: #4a6997;
    --brand-dim: #3a5580;
    --brand-faint: #e8eef5;
    --scrollbar-track: #F4F6F9;
    --scrollbar-thumb: #C8D3E0;
    --scrollbar-thumb-hover: #A8B8CC;
    --grid-line: rgba(74,105,151,0.1);
    --selection-bg: rgba(74,105,151,0.15);
    --tag-red-bg: #FEF0F0;
    --tag-amber-color: #996600;
    --tag-amber-bg: #FFF8E6;
  }

  body {
    background-color: var(--bg-900);
    color: var(--text-primary);
    font-family: 'DM Sans', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    transition: background-color 0.25s ease, color 0.25s ease;
  }

  ::selection { background: var(--selection-bg); color: var(--brand); }

  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: var(--scrollbar-track); }
  ::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-thumb-hover); }
}

@layer components {
  .grid-bg {
    background-image:
      linear-gradient(var(--grid-line) 1px, transparent 1px),
      linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  .tag {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 2px 8px;
    border: 1px solid;
    border-radius: 2px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }

  .tag-acid {
    border-color: rgba(74,105,151,0.35);
    color: var(--brand);
    background: var(--brand-faint);
  }

  .tag-red {
    border-color: rgba(255,58,58,0.3);
    color: #FF3A3A;
    background: var(--tag-red-bg);
  }

  .tag-amber {
    border-color: rgba(255,170,0,0.3);
    color: var(--tag-amber-color);
    background: var(--tag-amber-bg);
  }

  .tag-blue {
    border-color: rgba(74,105,151,0.3);
    color: #4a6997;
    background: var(--brand-faint);
  }

  .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: var(--brand);
    color: #ffffff;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    border: none;
    cursor: pointer;
    transition: all 0.15s ease;
    text-decoration: none;
  }

  .btn-primary:hover {
    background: var(--brand-dim);
    transform: translateY(-1px);
    box-shadow: 0 4px 20px rgba(74,105,151,0.3);
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  .btn-secondary {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 9px 20px;
    background: transparent;
    color: var(--text-primary);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    letter-spacing: 0.05em;
    border: 1px solid var(--border);
    cursor: pointer;
    transition: all 0.15s ease;
    text-decoration: none;
  }

  .btn-secondary:hover {
    border-color: var(--border-bright);
    background: rgba(74,105,151,0.06);
  }

  .card {
    background: var(--bg-800);
    border: 1px solid var(--border);
    padding: 24px;
    transition: border-color 0.2s ease, background-color 0.2s ease;
  }

  .card:hover { border-color: var(--border-bright); }

  .section-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-muted);
  }
}